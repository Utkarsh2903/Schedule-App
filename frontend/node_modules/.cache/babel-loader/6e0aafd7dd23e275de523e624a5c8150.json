{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Utkarsh\\\\Desktop\\\\schedule\\\\frontend\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport Navigation from './components/Navigation/Navigation';\nimport Signin from './components/Signin/Signin';\nimport Register from './components/Register/Register';\nimport Landing from './components/Landing/Landing';\nimport Timetable from './components/Timetable/Timetable';\nimport Todo from './components/Todo/Todo';\nimport Project from './components/Project/Project';\nimport Profile from './components/Profile/Profile';\nimport './App.css';\nconst initialState = {\n  isSignedIn: false,\n  route: 'landing',\n  user: {\n    name: '',\n    email: '',\n    phone: '',\n    email_alert: 0,\n    phone_alert: 0,\n    timeTable: [['Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!'], ['Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!'], ['Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!'], ['Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!'], ['Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!'], ['Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!'], ['Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!', 'Free!']],\n    todo: [],\n    project: [],\n    subject: []\n  }\n};\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.loadUsertt = allDays => {\n      let userTemp = this.state.user;\n      userTemp.timeTable = allDays;\n      this.setState({\n        user: userTemp\n      }); //console.log(this.state.user.timeTable);\n    };\n\n    this.loadUsertodo = allJobs => {\n      let userTemp = this.state.user;\n      userTemp.todo = allJobs;\n      this.setState({\n        user: userTemp\n      }); //console.log('inside loadUsertodo', this.state.user.todo);\n      //console.log('inside loadUsertodo', allJobs);\n    };\n\n    this.loadUserproj = allProjs => {\n      let userTemp = this.state.user;\n      userTemp.project = allProjs;\n      this.setState({\n        user: userTemp\n      }); //console.log('inside loadUsertodo', this.state.user.todo);\n      //console.log('inside loadUsertodo', allJobs);\n    };\n\n    this.loadUser = user => {\n      console.log(user);\n      this.setState({\n        user: user\n      });\n    };\n\n    this.changeName = name => {\n      let tempUser = this.state.user;\n      tempUser.name = name;\n      this.setState({\n        user: tempUser\n      });\n    };\n\n    this.changePhone = phone => {\n      let tempUser = this.state.user;\n      tempUser.phone = phone;\n      this.setState({\n        user: tempUser\n      });\n    };\n\n    this.onEmailAlert = x => {\n      let tempUser = this.state.user;\n      tempUser.email_alert = x;\n      this.setState({\n        user: tempUser\n      });\n    };\n\n    this.onPhoneAlert = x => {\n      let tempUser = this.state.user;\n      tempUser.phone_alert = x;\n      this.setState({\n        user: tempUser\n      });\n    };\n\n    this.onRouteChange = route => {\n      if (route === 'landing') {\n        this.setState(initialState);\n      } else if (route === 'timeTable' || route === 'todo' || route === 'project' || route === 'profile') this.setState({\n        isSignedIn: true\n      });\n\n      if (this.state.route === 'timeTable' && route !== 'timeTable') {\n        let list = [];\n\n        for (let i = 0; i < 7; i++) {\n          let tempList = Array.from(new Set(this.state.user.timeTable[i]));\n          console.log('loop', i, ' temp list', tempList);\n          list = list.concat(tempList);\n          console.log('loop', i, ' list', list);\n        }\n\n        let finalList = Array.from(new Set(list));\n        console.log('final list', finalList);\n        let tempUser = this.state.user;\n        console.log('tempUser', tempUser);\n\n        for (let i = 0; i < finalList.length; i++) {\n          let x = true,\n              s1 = finalList[i].toLowerCase();\n\n          for (let j = 0; j < tempUser.subject.length; j++) {\n            if (tempUser.subject[j].name === s1) x = false;\n          }\n\n          if (x && s1 !== \"\" && s1 != \"free!\") tempUser.subject.push({\n            email: this.state.user.email,\n            name: s1,\n            attended: 0,\n            total: 0\n          });\n        }\n\n        console.log('subjects at route change', tempUser.subject);\n        this.setState({\n          user: tempUser\n        });\n      }\n\n      if ((this.state.route === 'todo' || this.state.route === 'timeTable' || this.state.route === 'project' || this.state.route === 'profile') && route === 'landing') {\n        console.log('yo');\n        fetch('http://localhost:3001/signout', {\n          method: 'post',\n          headers: {\n            'Accept': 'application/json, text/plain, */*',\n            'Content-Type': 'application/json'\n          },\n          body: JSON.stringify({\n            name: this.state.user.name,\n            email: this.state.user.email,\n            phone: this.state.user.phone,\n            email_alert: this.state.user.email_alert,\n            phone_alert: this.state.user.phone_alert,\n            timeTable: this.state.user.timeTable,\n            todo: this.state.user.todo,\n            project: this.state.user.project,\n            subject: this.state.user.subject\n          })\n        }).then(res => res.text()).then(res => {\n          console.log('route change', res);\n\n          if (res === \"success\") {\n            this.setState({\n              route: route\n            });\n          } else {\n            console.log('error updating');\n          }\n        }).catch(err => console.log(err));\n      } else {\n        this.setState({\n          route: route\n        });\n      }\n    };\n\n    this.state = initialState; //this.onDataSave = this.onDataSave.bind(this);\n  }\n\n  render() {\n    const _this$state = this.state,\n          route = _this$state.route,\n          isSignedIn = _this$state.isSignedIn;\n    console.log(this.state.user.phone);\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(Navigation, {\n      isSignedIn: isSignedIn,\n      onRouteChange: this.onRouteChange,\n      name: this.state.user.name,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }), route === 'signin' ? React.createElement(Signin, {\n      onRouteChange: this.onRouteChange,\n      loadUser: this.loadUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }) : route === 'register' ? React.createElement(Register, {\n      onRouteChange: this.onRouteChange,\n      loadUser: this.loadUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }) : route === 'landing' ? React.createElement(Landing, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }) : route === 'timeTable' ? React.createElement(Timetable, {\n      loadUsertt: this.loadUsertt,\n      subject: this.state.user.subject,\n      ttvals: this.state.user.timeTable,\n      onRouteChange: this.onRouteChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }) : route === 'todo' ? React.createElement(Todo, {\n      loadUsertodo: this.loadUsertodo,\n      todovals: this.state.user.todo,\n      onRouteChange: this.onRouteChange,\n      email: this.state.user.email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }) : route === 'project' ? React.createElement(Project, {\n      loadUserproj: this.loadUserproj,\n      projvals: this.state.user.project,\n      onRouteChange: this.onRouteChange,\n      email: this.state.user.email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }) : React.createElement(Profile, {\n      changeName: this.changeName,\n      changePhone: this.changePhone,\n      onPhoneAlert: this.onPhoneAlert,\n      onEmailAlert: this.onEmailAlert,\n      onRouteChange: this.onRouteChange,\n      name: this.state.user.name,\n      subject: this.state.user.subject,\n      phone: this.state.user.phone,\n      email_alert: this.state.user.email_alert,\n      phone_alert: this.state.user.phone_alert,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["C:/Users/Utkarsh/Desktop/schedule/frontend/src/App.js"],"names":["React","Component","Navigation","Signin","Register","Landing","Timetable","Todo","Project","Profile","initialState","isSignedIn","route","user","name","email","phone","email_alert","phone_alert","timeTable","todo","project","subject","App","constructor","props","loadUsertt","allDays","userTemp","state","setState","loadUsertodo","allJobs","loadUserproj","allProjs","loadUser","console","log","changeName","tempUser","changePhone","onEmailAlert","x","onPhoneAlert","onRouteChange","list","i","tempList","Array","from","Set","concat","finalList","length","s1","toLowerCase","j","push","attended","total","fetch","method","headers","body","JSON","stringify","then","res","text","catch","err","render"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Navigation from './components/Navigation/Navigation';\nimport Signin from './components/Signin/Signin';\nimport Register from './components/Register/Register';\nimport Landing from './components/Landing/Landing';\nimport Timetable from './components/Timetable/Timetable';\nimport Todo from './components/Todo/Todo';\nimport Project from './components/Project/Project';\nimport Profile from './components/Profile/Profile';\nimport './App.css';\n\nconst initialState = {\n      isSignedIn: false,\n      route: 'landing',\n      user: {\n        name: '',\n        email: '',\n        phone: '',\n        email_alert: 0,\n        phone_alert: 0,\n        timeTable: [\n          ['Free!','Free!','Free!','Free!','Free!','Free!','Free!','Free!','Free!'],\n          ['Free!','Free!','Free!','Free!','Free!','Free!','Free!','Free!','Free!'],\n          ['Free!','Free!','Free!','Free!','Free!','Free!','Free!','Free!','Free!'],\n          ['Free!','Free!','Free!','Free!','Free!','Free!','Free!','Free!','Free!'],\n          ['Free!','Free!','Free!','Free!','Free!','Free!','Free!','Free!','Free!'],\n          ['Free!','Free!','Free!','Free!','Free!','Free!','Free!','Free!','Free!'],\n          ['Free!','Free!','Free!','Free!','Free!','Free!','Free!','Free!','Free!']\n        ],\n        todo: [],\n        project: [],\n        subject: []\n      }\n    }\n\nclass App extends Component {\n  constructor(props){\n    super(props);\n    this.state = initialState;\n    \n    //this.onDataSave = this.onDataSave.bind(this);\n  }\n  \n  loadUsertt = (allDays) => {\n    let userTemp = this.state.user;\n    userTemp.timeTable = allDays;\n    this.setState({user: userTemp});\n    //console.log(this.state.user.timeTable);\n  }\n  \n  loadUsertodo = (allJobs) => {\n    let userTemp = this.state.user;\n    userTemp.todo = allJobs;\n    this.setState({user: userTemp});\n    //console.log('inside loadUsertodo', this.state.user.todo);\n    //console.log('inside loadUsertodo', allJobs);\n  }\n  \n  loadUserproj = (allProjs) => {\n    let userTemp = this.state.user;\n    userTemp.project = allProjs;\n    this.setState({user: userTemp});\n    //console.log('inside loadUsertodo', this.state.user.todo);\n    //console.log('inside loadUsertodo', allJobs);\n  }\n  \n  loadUser = (user) => {\n    console.log(user);\n    this.setState({user: user});\n  }\n  \n  changeName = (name) => {\n    let tempUser = this.state.user;\n    tempUser.name = name;\n    this.setState({user: tempUser});\n  }\n  \n  changePhone = (phone) => {\n    let tempUser = this.state.user;\n    tempUser.phone = phone;\n    this.setState({user: tempUser});\n  }\n  \n  onEmailAlert = (x) => {\n    let tempUser = this.state.user;\n    tempUser.email_alert = x;\n    this.setState({user: tempUser}); \n  }\n  \n  onPhoneAlert = (x) => {\n    let tempUser = this.state.user;\n    tempUser.phone_alert = x;\n    this.setState({user: tempUser}); \n  }\n  \n  // onDataSave = () => {}\n     \n  \n  onRouteChange = (route) => {\n    \n    if(route==='landing')\n    {\n      this.setState(initialState);\n    }\n    else if(route==='timeTable' || route==='todo' || route==='project' || route==='profile')\n      this.setState({isSignedIn: true});\n    \n    if(this.state.route==='timeTable' && route!=='timeTable')\n    {\n      let list = [];\n      \n      for(let i=0;i<7;i++)\n      {\n        let tempList = Array.from(new Set(this.state.user.timeTable[i]));\n        console.log('loop',i,' temp list',tempList);\n        list = list.concat(tempList);\n        console.log('loop',i, ' list',list);\n      }\n      \n      let finalList = Array.from(new Set(list));\n      console.log('final list', finalList);\n      \n      let tempUser = this.state.user;\n      console.log('tempUser', tempUser);\n      \n      for(let i=0;i<finalList.length;i++)\n      {\n        let x = true, s1 = finalList[i].toLowerCase();\n        \n        for(let j=0;j<tempUser.subject.length;j++)\n        {\n          if(tempUser.subject[j].name===s1)\n            x = false;\n        }\n        \n        if((x) && (s1!==\"\") && (s1!=\"free!\"))\n          tempUser.subject.push({email: this.state.user.email, name:s1, attended:0, total:0});\n      }\n      \n      console.log('subjects at route change', tempUser.subject);\n      \n      this.setState({user: tempUser});\n    }\n    \n    if((this.state.route==='todo' || this.state.route==='timeTable' || this.state.route==='project' || this.state.route==='profile') && route==='landing')\n    {\n      console.log('yo');\n      fetch('http://localhost:3001/signout', {\n        method: 'post',\n        headers: {\n          'Accept': 'application/json, text/plain, */*',\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: this.state.user.name,\n          email: this.state.user.email,\n          phone: this.state.user.phone,\n          email_alert: this.state.user.email_alert,\n          phone_alert: this.state.user.phone_alert,\n          timeTable: this.state.user.timeTable,\n          todo: this.state.user.todo,\n          project: this.state.user.project,\n          subject: this.state.user.subject\n        })\n      })\n      .then(res => res.text())\n      .then(res => {\n        console.log('route change',res); \n        if(res===\"success\")\n        {\n          this.setState({route: route});\n        }\n        else\n        {\n          console.log('error updating');\n        }\n      })\n      .catch((err) => console.log(err))\n    }\n    else\n    {\n      this.setState({route: route});\n    }\n  }\n  \n  render() {\n    \n    const { route, isSignedIn } = this.state;\n    \n    console.log(this.state.user.phone);\n    \n    return (\n      <div className=\"App\">\n        <Navigation isSignedIn={isSignedIn} onRouteChange={this.onRouteChange} name={this.state.user.name} />\n        {\n          (route==='signin')?\n            <Signin onRouteChange={this.onRouteChange} loadUser={this.loadUser} />\n            :\n            (route==='register')?\n              <Register onRouteChange={this.onRouteChange} loadUser={this.loadUser} />\n              :\n              (route==='landing')?\n                <Landing />\n                :\n                (route==='timeTable')?\n                  <Timetable loadUsertt={this.loadUsertt} subject={this.state.user.subject} ttvals={this.state.user.timeTable} onRouteChange={this.onRouteChange} />\n                  :\n                  (route==='todo')?\n                  <Todo loadUsertodo={this.loadUsertodo} todovals={this.state.user.todo} onRouteChange={this.onRouteChange} email={this.state.user.email} />\n                  :\n                  (route==='project')?\n                    <Project loadUserproj={this.loadUserproj} projvals={this.state.user.project} onRouteChange={this.onRouteChange} email={this.state.user.email} />\n                    :\n                    <Profile changeName={this.changeName} changePhone={this.changePhone} onPhoneAlert={this.onPhoneAlert} onEmailAlert={this.onEmailAlert} onRouteChange={this.onRouteChange} name={this.state.user.name} subject={this.state.user.subject} phone={this.state.user.phone} email_alert={this.state.user.email_alert} phone_alert={this.state.user.phone_alert} />\n        }\n      </div>\n    );\n  }\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}